// Auto-generated timing annotations for bc
// Generated by run_gapbs_twopass_compiler.sh

#ifndef BC_TIMING_ANNOTATIONS_H
#define BC_TIMING_ANNOTATIONS_H

#include <stdint.h>
#include <stdbool.h>
#include <unistd.h>

typedef struct {
    uint32_t region_id;
    int64_t injection_delay_ns;
    uint32_t optimal_prefetch_depth;
    bool latency_hidden;
} cira_region_annotation_t;

static const cira_region_annotation_t cira_annotations[] = {
    { 0, 675000, 16, false },
    { 1, 675000, 16, false },
};
#define CIRA_NUM_ANNOTATIONS 2

#define CIRA_INJECT_TIMING(region_id) do { \
    if ((region_id) < CIRA_NUM_ANNOTATIONS && \
        !cira_annotations[region_id].latency_hidden && \
        cira_annotations[region_id].injection_delay_ns > 0) { \
        usleep((useconds_t)(cira_annotations[region_id].injection_delay_ns / 1000)); \
    } \
} while(0)

#endif // BC_TIMING_ANNOTATIONS_H
