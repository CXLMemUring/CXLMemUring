/* Auto-generated timing annotations for MonetDB TPC-C
 * Generated by run_monetdb_twopass_compiler.sh
 */

#ifndef MONETDB_TIMING_ANNOTATIONS_H
#define MONETDB_TIMING_ANNOTATIONS_H

#include <stdint.h>
#include <time.h>

/* Timing injection configuration */
#define CIRA_CLOCK_FREQ_MHZ 200.0
#define CIRA_CXL_LATENCY_NS 165

/* Region definitions */
#define CIRA_NUM_REGIONS 5

/* Region 0: tpcc_new_order */
#define CIRA_REGION_TPCC_NEW_ORDER_ID 0
#define CIRA_REGION_TPCC_NEW_ORDER_DELAY_NS 16344
#define CIRA_REGION_TPCC_NEW_ORDER_PREFETCH_DEPTH 16
#define CIRA_REGION_TPCC_NEW_ORDER_LATENCY_HIDDEN 0

/* Region 1: tpcc_payment */
#define CIRA_REGION_TPCC_PAYMENT_ID 1
#define CIRA_REGION_TPCC_PAYMENT_DELAY_NS 9863
#define CIRA_REGION_TPCC_PAYMENT_PREFETCH_DEPTH 16
#define CIRA_REGION_TPCC_PAYMENT_LATENCY_HIDDEN 0

/* Region 2: tpcc_order_status */
#define CIRA_REGION_TPCC_ORDER_STATUS_ID 2
#define CIRA_REGION_TPCC_ORDER_STATUS_DELAY_NS 7923
#define CIRA_REGION_TPCC_ORDER_STATUS_PREFETCH_DEPTH 16
#define CIRA_REGION_TPCC_ORDER_STATUS_LATENCY_HIDDEN 0

/* Region 3: tpcc_delivery */
#define CIRA_REGION_TPCC_DELIVERY_ID 3
#define CIRA_REGION_TPCC_DELIVERY_DELAY_NS 13457
#define CIRA_REGION_TPCC_DELIVERY_PREFETCH_DEPTH 16
#define CIRA_REGION_TPCC_DELIVERY_LATENCY_HIDDEN 0

/* Region 4: tpcc_stock_level */
#define CIRA_REGION_TPCC_STOCK_LEVEL_ID 4
#define CIRA_REGION_TPCC_STOCK_LEVEL_DELAY_NS 7351
#define CIRA_REGION_TPCC_STOCK_LEVEL_PREFETCH_DEPTH 16
#define CIRA_REGION_TPCC_STOCK_LEVEL_LATENCY_HIDDEN 0

/* Timing injection macro */
#define CIRA_INJECT_TIMING(region_id) do { \
    struct timespec ts; \
    ts.tv_sec = 0; \
    ts.tv_nsec = cira_region_delays[region_id]; \
    if (ts.tv_nsec > 0) nanosleep(&ts, NULL); \
} while(0)

/* Region delay lookup table */
static const uint64_t cira_region_delays[] = {
    16344, /* tpcc_new_order */
    9863, /* tpcc_payment */
    7923, /* tpcc_order_status */
    13457, /* tpcc_delivery */
    7351, /* tpcc_stock_level */
};

#endif /* MONETDB_TIMING_ANNOTATIONS_H */
