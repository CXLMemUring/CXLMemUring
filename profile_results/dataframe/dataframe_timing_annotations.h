/* Auto-generated timing annotations for DataFrame
 * Generated by run_dataframe_twopass_compiler.sh
 */

#ifndef DATAFRAME_TIMING_ANNOTATIONS_H
#define DATAFRAME_TIMING_ANNOTATIONS_H

#include <stdint.h>
#include <time.h>

/* Timing injection configuration */
#define CIRA_CLOCK_FREQ_MHZ 200.0
#define CIRA_CXL_LATENCY_NS 165

/* Region definitions */
#define CIRA_NUM_REGIONS 5

/* Region 0: data_generation */
#define CIRA_REGION_DATA_GENERATION_ID 0
#define CIRA_REGION_DATA_GENERATION_DELAY_NS 0
#define CIRA_REGION_DATA_GENERATION_PREFETCH_DEPTH 16
#define CIRA_REGION_DATA_GENERATION_LATENCY_HIDDEN 1

/* Region 1: mean_calculation */
#define CIRA_REGION_MEAN_CALCULATION_ID 1
#define CIRA_REGION_MEAN_CALCULATION_DELAY_NS 0
#define CIRA_REGION_MEAN_CALCULATION_PREFETCH_DEPTH 16
#define CIRA_REGION_MEAN_CALCULATION_LATENCY_HIDDEN 1

/* Region 2: variance_calculation */
#define CIRA_REGION_VARIANCE_CALCULATION_ID 2
#define CIRA_REGION_VARIANCE_CALCULATION_DELAY_NS 0
#define CIRA_REGION_VARIANCE_CALCULATION_PREFETCH_DEPTH 16
#define CIRA_REGION_VARIANCE_CALCULATION_LATENCY_HIDDEN 1

/* Region 3: correlation_calculation */
#define CIRA_REGION_CORRELATION_CALCULATION_ID 3
#define CIRA_REGION_CORRELATION_CALCULATION_DELAY_NS 0
#define CIRA_REGION_CORRELATION_CALCULATION_PREFETCH_DEPTH 16
#define CIRA_REGION_CORRELATION_CALCULATION_LATENCY_HIDDEN 1

/* Region 4: selection */
#define CIRA_REGION_SELECTION_ID 4
#define CIRA_REGION_SELECTION_DELAY_NS 0
#define CIRA_REGION_SELECTION_PREFETCH_DEPTH 16
#define CIRA_REGION_SELECTION_LATENCY_HIDDEN 1

/* Timing injection macro */
#define CIRA_INJECT_TIMING(region_id) do { \
    struct timespec ts; \
    ts.tv_sec = 0; \
    ts.tv_nsec = cira_region_delays[region_id]; \
    if (ts.tv_nsec > 0) nanosleep(&ts, NULL); \
} while(0)

/* Region delay lookup table */
static const uint64_t cira_region_delays[] = {
    0, /* data_generation */
    0, /* mean_calculation */
    0, /* variance_calculation */
    0, /* correlation_calculation */
    0, /* selection */
};

#endif /* DATAFRAME_TIMING_ANNOTATIONS_H */
